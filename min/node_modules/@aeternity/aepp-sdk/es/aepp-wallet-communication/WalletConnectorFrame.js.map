{"version":3,"file":"WalletConnectorFrame.js","names":["WalletConnectorFrameBase","_networkId","WeakMap","WalletConnectorFrame","constructor","args","_classPrivateFieldInitSpec","networkId","_classPrivateFieldGet","_updateNetwork","params","_classPrivateFieldSet","emit","connect","name","connection","connector","_connect"],"sources":["../../src/aepp-wallet-communication/WalletConnectorFrame.ts"],"sourcesContent":["import { Network } from './rpc/types.js';\nimport BrowserConnection from './connection/Browser.js';\nimport WalletConnectorFrameBase from './WalletConnectorFrameBase.js';\n\ninterface EventsNetworkId {\n  networkIdChange: (networkId: string) => void;\n}\n\n/**\n * Connect to wallet as iframe/web-extension\n * @category aepp wallet communication\n */\nexport default class WalletConnectorFrame extends WalletConnectorFrameBase<EventsNetworkId> {\n  #networkId = '';\n\n  /**\n   * The last network id reported by wallet\n   */\n  get networkId(): string {\n    return this.#networkId;\n  }\n\n  protected override _updateNetwork(params: Network): void {\n    this.#networkId = params.networkId;\n    this.emit('networkIdChange', this.#networkId);\n  }\n\n  /**\n   * Connect to wallet\n   * @param name - Aepp name\n   * @param connection - Wallet connection object\n   */\n  static async connect(name: string, connection: BrowserConnection): Promise<WalletConnectorFrame> {\n    const connector = new WalletConnectorFrame();\n    await WalletConnectorFrame._connect(name, connection, connector, false);\n    return connector;\n  }\n}\n"],"mappings":";;;;;AAEA,OAAOA,wBAAwB,MAAM,+BAA+B;AAAC,IAAAC,UAAA,oBAAAC,OAAA;AAMrE;AACA;AACA;AACA;AACA,eAAe,MAAMC,oBAAoB,SAASH,wBAAwB,CAAkB;EAAAI,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAC1FC,0BAAA,OAAAL,UAAU,EAAG,EAAE;EAAC;EAEhB;AACF;AACA;EACE,IAAIM,SAASA,CAAA,EAAW;IACtB,OAAOC,qBAAA,CAAKP,UAAU,EAAf,IAAc,CAAC;EACxB;EAEmBQ,cAAcA,CAACC,MAAe,EAAQ;IACvDC,qBAAA,CAAKV,UAAU,EAAf,IAAI,EAAcS,MAAM,CAACH,SAAX,CAAC;IACf,IAAI,CAACK,IAAI,CAAC,iBAAiB,EAAEJ,qBAAA,CAAKP,UAAU,EAAf,IAAc,CAAC,CAAC;EAC/C;;EAEA;AACF;AACA;AACA;AACA;EACE,aAAaY,OAAOA,CAACC,IAAY,EAAEC,UAA6B,EAAiC;IAC/F,MAAMC,SAAS,GAAG,IAAIb,oBAAoB,CAAC,CAAC;IAC5C,MAAMA,oBAAoB,CAACc,QAAQ,CAACH,IAAI,EAAEC,UAAU,EAAEC,SAAS,EAAE,KAAK,CAAC;IACvE,OAAOA,SAAS;EAClB;AACF","ignoreList":[]}