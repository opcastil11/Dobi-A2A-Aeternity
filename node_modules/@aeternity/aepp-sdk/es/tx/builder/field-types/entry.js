import { Buffer as _Buffer } from "buffer";
import { decode, encode, Encoding } from '../../../utils/encoder.js';
export default function genEntryField(tag) {
  return {
    serialize(txParams, {
      packEntry
    }) {
      if (ArrayBuffer.isView(txParams)) return _Buffer.from(txParams);
      if (typeof txParams === 'string' && txParams.startsWith('tx_')) {
        return decode(txParams);
      }
      return decode(packEntry({
        ...txParams,
        ...(tag != null && {
          tag
        })
      }));
    },
    deserialize(buf, {
      unpackEntry
    }) {
      return unpackEntry(encode(buf, Encoding.Bytearray), tag);
    }
  };
}
//# sourceMappingURL=entry.js.map