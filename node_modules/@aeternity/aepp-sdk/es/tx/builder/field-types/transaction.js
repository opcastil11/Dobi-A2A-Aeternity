import { Buffer as _Buffer } from "buffer";
import { decode, encode, Encoding } from '../../../utils/encoder.js';
export default function genTransactionField(tag) {
  return {
    serialize(txParams, {
      buildTx
    }) {
      if (ArrayBuffer.isView(txParams)) return _Buffer.from(txParams);
      if (typeof txParams === 'string' && txParams.startsWith('tx_')) {
        return decode(txParams);
      }
      return decode(buildTx({
        ...txParams,
        ...(tag != null && {
          tag
        })
      }));
    },
    deserialize(buf, {
      unpackTx
    }) {
      return unpackTx(encode(buf, Encoding.Transaction), tag);
    }
  };
}
//# sourceMappingURL=transaction.js.map