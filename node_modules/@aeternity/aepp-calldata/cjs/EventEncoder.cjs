"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _ApiEncoder = _interopRequireDefault(require("./ApiEncoder.cjs"));
var _CompositeDataFactory = _interopRequireDefault(require("./DataFactory/CompositeDataFactory.cjs"));
var _CanonicalMapper = _interopRequireDefault(require("./Mapper/CanonicalMapper.cjs"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
class EventEncoder {
  constructor() {
    this._dataFactory = new _CompositeDataFactory.default();
    this._apiEncoder = new _ApiEncoder.default();
    this._canonicalMapper = new _CanonicalMapper.default();
  }
  decodeWithType(data, type) {
    const binData = this._apiEncoder.decode(data);
    const event = this._dataFactory.create(type, binData);
    return this._canonicalMapper.toCanonical(event);
  }
}
var _default = exports.default = EventEncoder;